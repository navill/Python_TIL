# 201002

- **[커맨드](#커맨드-패턴)**

- **[Null 객체 패턴](#null-객체-패턴)**


<br>

**[처음으로](#201002)**
<br>

# 커맨드 패턴 - [Notion 정리](https://www.notion.so/navill/Behavioral-Design-Pattern-Command-37d547760fe640b2954042466cb0c743)

-   수행해야할 작업을 요청한 순간부터 실제 실행 시 까지 분리할 수 있는 기능 제공
    -   \_\_call\_\_ 메서드 구현을 통해 객체의 초기화와 호출을 분리할 수 있다.
-   명령의 정의 이후에 수정 가능: 클라이언트가 실행할 명령을 지정한 다음, 누군가 최종적으로 실행하기로 결심하기 전까지 일부 파라미터를 변경하거나 옵션을 추가할 수 있다. 
    -   주요 구성
        -   client: 명령을 실행할 호출자
        -   invoker: 명령에 필요한 파라미터에서 필터를 더하거나 제거하는 것처럼 상호작용할 수 있는 메서드를 제공
        -   command: 실행될 명령의 파라미터를 저장하는 객체
        -   receiver: 실제 작업을 수행할 객체

<br>

**[처음으로](#201002)**
<br>



# Null 객체 패턴

-   함수나 메서드는 일관된 타입을 반환해야 한다.
    -   이것이 보장될 경우 반환된 객체에 대해 null 체크를 하지 않고도 바로 사용할 수 있다.



-   이전장의 [책임 연쇄 패턴](https://github.com/navill/Python_TIL/tree/master/2020/200930#책임-연쇄-패턴): 메세지를 처리한 뒤 반환하는 객체가 무엇인지 알 수 없음

    -   처리할 적절한 객체가 없을 경우 메서드는 None을 반환

        ```python
        chain = SessionEvent()
        print(chain.process("567: User"))  
        # None
        ```

        -   사전 타입의 객체가 반환될 것이라 클라이언트는 예상하기 때문에 이대로 사용할 경우 AttributeError를 일으킨다.

        -   process() 메서드의 기본 출력값을 None이 아닌 빈 사전({})으로 변경한다.

            -   일관된 타입의 객체를 반환할 수 있다.

            -   만일 자료구조가 아닌 User에 대한 사용자 정의 객체를 반환해야할 경우(어떠한 경우에도 None을 반환하면 안됨)

                1.  예외 발생

                2.  UnknownUser 타입 반환 - User에 대한 인터페이스를 유지 + 아무일도 수행하지 않아야함
                    -   UnknownUser가 반환되었다는 것 자체가 잘못된 요청을 의미함
                    -   해당 객체를 이용한 로깅 또는 디버깅이 용이함

                

<br>

**[처음으로](#201002)**
<br>